import { randomItem, randomPick, shuffle } from '../components/utils'
import { getRandomEmail, getRandomName } from './faker'

const headlines = [
  'Dookie Demastered',
  'An n-ball Between n-balls',
  "Geoffrey Hinton says he's proud Ilya Sutskever 'fired Sam Altman'",
  'Dito – an advanced Layer 7 reverse proxy server written in Go',
  'The Internet Archive takes over foreign dissertations from Leiden University',
  'John Carmack on inlined code (2014)',
  'Chemistry Nobel: Computational protein design and protein structure prediction',
  'OpenAI pursues public benefit structure to fend off hostile takeovers',
  'Working Set Size Estimation (2018)',
  'Motion (YC W20) is hiring our first customer success manager',
  'Warm Handoffs',
  'Addition Is All You Need for Energy-Efficient Language Models',
  'Show HN: Donobu – Mac App for Web Automation and Testing',
  'Show HN: I made an SSH tunnel manager to learn Go',
  "The Surprising Backstory Behind Gustav Klimt's Obsession with Gold",
  'The Open Source AI Definition RC1 Is Available for Comments',
  '50 Years of Queries',
  'US weighs Google break-up in landmark antitrust case',
  "Germans decry influence of English as 'idiot's apostrophe' gets approval",
  'Who died and left the US $7B?',
  'Show HN: Itineraries.io – I built a joint trip planner in between surgeries',
  'PEP 760: No more bare excepts',
  'What Is LibreDrive (2019)',
  'Show HN: Winamp and other media players, rebuilt for the web with Web Components',
  'Otter Wiki: A minimalistic wiki powered by Python, Markdown and git',
  'My first game with Carimbo, my homemade engine',
  'Your brain changes based on what you did two weeks ago',
  'Show HN: FinetuneDB – AI fine-tuning platform to create custom LLMs',
  'Multilayer microhydraulic actuators with speed and force configurations (2021)',
  'Show HN: Kotlin Money',
]

const links = [
  'Hurricane Milton',
  'Middle East war',
  '2024 presidential race',
  'Nobel Prize in chemistry',
  'Google',
  'Disney prices',
  'NFL Week 5',
  'Prime Day best deals',
  'Hurricane Milton approaches Longboat Key, FL ',
  'How high Milton’s record-breaking storm surge could reach ',
  'Tornado rips through neighborhood as Milton approaches ',
  'Floridians tell CNN why they’re not following evacuation orders ',
  'Harris issues warning about Milton ',
  'Conditions are deteriorating as Milton moves closer, spawning dangerous tornadoes and torrential rain ',
  'For some riding out Milton, ‘the alternatives weren’t too inviting’',
  'See Milton’s projected path, rainfall and storm surge',
  'See the latest forecast for Hurricane Milton',
  'The White House’s desperate scramble to swat down hurricane misinformation',
  'Republicans call out hurricane misinformation coming from within the GOP',
  'En español: Sigue nuestra cobertura del huracán Milton',
  'Watch the latest CNN Headlines ',
  'Why Hurricane Milton could give Trump a political opening ',
  'Controversial group linked to new voting rules gains outsized influence in Georgia',
  'Oklahoma amends request for Bibles that initially appeared to match only version backed by Trump',
  'Pilot dies aboard Turkish Airlines flight, forcing emergency landing in New York ',
  'Exclusive: CIA faces egregious sexual assault allegations',
  'After two decades of ‘Mtn Dew,’ PepsiCo is going to write it out',
  'Comet likely last seen when Neanderthals walked Earth could soon dazzle in the night sky',
  'Harris reacts to claim Trump sent Putin Covid tests secretly',
  'Jets’ Aaron Rodgers denies rumors he played role in Robert Saleh’s firing',
  'The end of a shortage of popular weight-loss drugs may mean many people lose access to them',
  'Rare Monet returned to family more than 80 years after it was stolen by Nazis',
  'She chased a truck full of ‘shredded’ ballots in 2020. Now, she runs the GOP in a Georgia county',
  'Hezbollah rockets kill first Israeli civilians since start of ground war on Lebanon ',
  'Biden held ‘direct,’ 30-minute call with Netanyahu, White House says',
  'Air France says jet flew over Iraq as Iranian missiles descended on Israel',
  'Trump’s campaign doubles down on his claim of visiting Gaza',
  'Anderson Cooper says hearing podcast listeners’ voicemails about their lost loved ones helped him feel less alone in his grief ',
  'Andrew Garfield discusses hope found through grief',
  'These deals are going fast — the best Lightning Deals this Prime Day ',
  'This backpack can replace your carry-on — and is only $21 ',
  'All the stuff you have to buy anyway that’s on sale during Prime Day ',
  'Most October Prime Day sales are fine, but these are phenomenal ',
  'I’m a beauty editor. These are the 25 best products on sale right now',
  'If you need a new laptop, today’s the day to get one',
  'Declassified army photos from the ’70s and ’80s look like they’ve been pulled from a magazine ',
  'Your showerhead and toothbrush are teeming with viruses, but don’t panic ',
  'Iconic Vegas hotel demolished in spectacular fashion ',
  'She explores the world ‘until it’s ugly.’ The internet is obsessed ',
  'Shari Redstone says CBS leaders made ‘bad mistake’ with handling of Ta-Nehisi Coates interview fallout ',
  'The 18 best Apple products on sale during Prime Day ',
  '28 Prime Day deals our editors added to their carts yesterday',
  'I’m a home editor, and I found 20 kitchen essentials majorly on sale for Amazon Prime Day 2024',
  'We tested a bunch of portable chargers. All 3 winners are on sale today',
  '52 Amazon Prime Day 2024 deals on the products we’ve personally tested',
  'Samsung’s The Frame TV is almost at its lowest price ever today ',
  'This rain jacket is only $12 right now',
  '57 Advent calendars worth buying before they inevitably sell out',
  'This $49-off Travelon Anti-Theft Messenger Bag is a steal during Prime Day',
  '21 furniture deals worth shopping on Amazon Prime Day 2024, according to our home editor',
  'We’re calling it now — these are the 10 best deals of October Prime Day ',
  'This $1,500 4K LG TV is only $700 at Best Buy today',
  'Score everything you need to become your own barista with these 25 Amazon Prime Day 2024 coffee deals',
  'Dozens of brands just dropped sales to compete with Amazon — these are the best',
  'Amazon isn’t the only one with incredible savings today. These are our top picks from Walmart’s competing sale',
  'Freezer-friendly Thanksgiving dishes to make ahead ',
  'How to cook rice: A step-by-step guide ',
  '5 tips for preserving a carved pumpkin ',
  'How Harris could secure a historic win for Democrats – and still lose ',
  'Kamala Harris is often seen in a pussy-bow. Here’s what the blouse represents ',
  'The 10 Senate seats most likely to flip in 2024 ',
  'Which type of masculinity have you voted for? ',
  'European spacecraft launches for ‘crash scene investigation’ of first planetary defense test ',
  'Discovery first made in tiny worm snags Nobel Prize in medicine',
  '5 Nobel-worthy discoveries that haven’t won the prize',
  'Wreck of US warship known as ‘Ghost Ship of the Pacific’ found in ‘exceptional’ condition',
  'Lost biblical plant grown from 1,000-year-old seed',
  'Jennifer Lopez reflects on how her ‘world exploded’ in the past year ',
  'Sandra Bullock and Keanu Reeves reunite for ‘Speed’ anniversary screening',
  'Lisa Marie Presley kept late son’s body in her home for 2 months, according to her memoir',
  'Andrew Garfield shares the gift he’s discovered in grieving his mother',
  'Mother bear thrashes opponent that killed her cub to retain ‘Fat Bear’ title ',
  'Disneyland just raised prices',
  'Disney World making rare weather-related closures',
  'Climbing the world’s other highest mountain – no sherpas required',
  'Qantas apologizes after R-rated film plays on every screen during flight',
  'Meghan, Duchess of Sussex, appears at charity gala in a familiar look ',
  '‘Hotel in nature’: Inside the world’s best new skyscraper',
  'Mischievous 95-year-old is messing with Mickey Mouse',
  'A junk dealer found a painting in a basement. Experts say it’s an original Picasso',
  'Exploring her dad’s old photos, an artist discovered he had a past she never knew about',
  'Essay: What this high school senior wants adults to know about classroom phone bans ',
  'Analysis: Are ‘manfluencers’ raising our sons?',
  'Why a ‘go bag’ can mean the difference between life or death during a disaster',
  'FDA antidepressant warnings of suicide risk among kids may have the opposite effect, study finds',
  'Vegetables can be your favorite part of the meal if you cook them right, chef says',
  'A Senate candidate in Pennsylvania ran a hedge fund that bet against some of the state’s most iconic companies ',
  'Supreme Court’s conservatives wrestle with case of death row inmate Richard Glossip, who prosecutors want spared',
  'Trump secretly sent Putin Covid testing machines for personal use, new Bob Woodward book details',
  'Walz says Electoral College ‘needs to go’ at California fundraiser',
  'No evidence for Trump’s claim he has been to Gaza',
  'Interpol seeks public’s help in solving 46 cold cases involving unidentified women ',
  'New England Patriots captain Jabrill Peppers arrested on assault, strangulation, drug charges',
  'A black bear and three cubs entered an elderly man’s Colorado home. He narrowly escaped, officials say',
  '‘Shocking,’ historic spike in anti-Jewish threats across the US, ADL says',
  'Former New York Gov. David Paterson and stepson attacked after argument',
  'A trainee doctor’s rape and murder sparked mass protests in India. A man has now been charged ',
  'Australian PM apologizes for Tourette’s syndrome jibe',
  'North Korea to cut off road and rail links to South Korea',
  'Andrew Garfield’s grief ',
  'Another hurricane is coming. But Helene is still hurting',
  'The UFC is Trump’s not-so-secret weapon',
  'A big baby penguin with an even bigger following',
  'Aaron Rodgers lashes out at rumors he got coach fired ',
  'NFLer’s profane eye black under review',
  'Robert Saleh releases statement after Jets firing',
  'Top NFL players who could be traded',
  'LeBron named 2025 Met Gala honorary chair',
  'Ever wonder how hurricanes are named? CNN’s meteorologist explains ',
  '‘Hotel in nature’: See the world’s best new skyscraper ',
  'Would you buy yourself an engagement ring, ‘just because’? ',
  '‘SNL’ sketch pokes fun at Chappell Roan with Moo Deng impression ',
  '‘Comfortable, fun, familiar’: Microsoft is trying to turn its AI chatbot into a digital friend ',
  'This little robot is helping sick children attend school ',
  'California governor vetoes contentious AI safety bill ',
  'Civil rights groups sue Georgia in effort to extend voter registration deadline, citing Hurricane Helene impact ',
  'Republicans are challenging all aspects of mail-in voting in battleground states ',
  'Election officials in Georgia, North Carolina, Florida work to secure early voting amid Helene fallout ',
  'These majestic dog portraits are taking the shame out of the ‘cone of shame’ ',
  'The Australian Outback as you’ve never seen it before ',
  'The week in 36 photos ',
  'Reindeer herders are fighting to save their land and a way of life ',
  'America’s french fry king sounds an alarm ',
  'John Roberts remains confounded by Donald Trump as election approaches',
  'Deloitte feels the wrath of Trump world over employee’s leaked JD Vance messages',
  'Dreamlike images from Wildlife Photographer of the Year 2024',
  'The money you forfeit when you cash out of your 401(k) can be staggering',
  'Hera mission launches to solve mysteries of the aftermath of the first planetary defense test',
  'The couple who left Canada to live in former Soviet Central Asia',
  'America’s best foods and the world’s greatest pizza',
  'The cooking method you need to learn to get excited about vegetables this fall, expert says',
]

const newsAssets = [
  'cnn1.jpg',
  'cnn10.jpg',
  'cnn100.jpg',
  'cnn101.jpg',
  'cnn102.jpg',
  'cnn103.jpg',
  'cnn104.jpg',
  'cnn105.jpg',
  'cnn106.jpg',
  'cnn11.jpg',
  'cnn12.jpg',
  'cnn13.jpg',
  'cnn14.jpg',
  'cnn15.jpg',
  'cnn16.jpg',
  'cnn17.jpg',
  'cnn18.jpg',
  'cnn19.jpg',
  'cnn2.jpg',
  'cnn20.jpg',
  'cnn21.jpg',
  'cnn22.jpg',
  'cnn23.jpg',
  'cnn24.jpg',
  'cnn25.jpg',
  'cnn26.jpg',
  'cnn27.jpg',
  'cnn28.jpg',
  'cnn29.jpg',
  'cnn3.jpg',
  'cnn30.jpg',
  'cnn31.jpg',
  'cnn32.jpg',
  'cnn33.jpg',
  'cnn34.jpg',
  'cnn35.jpg',
  'cnn36.jpg',
  'cnn37.jpg',
  'cnn38.jpg',
  'cnn39.jpg',
  'cnn4.jpg',
  'cnn40.jpg',
  'cnn41.jpg',
  'cnn42.jpg',
  'cnn43.jpg',
  'cnn44.jpg',
  'cnn45.jpg',
  'cnn46.jpg',
  'cnn47.jpg',
  'cnn48.jpg',
  'cnn49.jpg',
  'cnn5.jpg',
  'cnn50.jpg',
  'cnn51.jpg',
  'cnn52.jpg',
  'cnn53.jpg',
  'cnn54.jpg',
  'cnn55.jpg',
  'cnn56.jpg',
  'cnn57.jpg',
  'cnn58.jpg',
  'cnn59.jpg',
  'cnn6.jpg',
  'cnn60.jpg',
  'cnn61.jpg',
  'cnn62.jpg',
  'cnn63.jpg',
  'cnn64.jpg',
  'cnn65.jpg',
  'cnn66.jpg',
  'cnn67.jpg',
  'cnn68.jpg',
  'cnn69.jpg',
  'cnn7.jpg',
  'cnn70.jpg',
  'cnn71.jpg',
  'cnn72.jpg',
  'cnn73.jpg',
  'cnn74.jpg',
  'cnn75.jpg',
  'cnn76.jpg',
  'cnn77.jpg',
  'cnn78.jpg',
  'cnn79.jpg',
  'cnn8.jpg',
  'cnn80.jpg',
  'cnn81.jpg',
  'cnn82.jpg',
  'cnn83.jpg',
  'cnn84.jpg',
  'cnn85.jpg',
  'cnn86.jpg',
  'cnn87.jpg',
  'cnn88.jpg',
  'cnn89.jpg',
  'cnn9.jpg',
  'cnn90.jpg',
  'cnn91.jpg',
  'cnn92.jpg',
  'cnn93.jpg',
  'cnn94.jpg',
  'cnn95.jpg',
  'cnn96.jpg',
  'cnn97.jpg',
  'cnn98.jpg',
  'cnn99.jpg',
  'devices.png',
  'enercare.png',
  'parkingbg.png',
  'yt_thumb1.jpg',
  'yt_thumb10.jpg',
  'yt_thumb11.jpg',
  'yt_thumb12.jpg',
  'yt_thumb13.jpg',
  'yt_thumb14.jpg',
  'yt_thumb2.jpg',
  'yt_thumb3.jpg',
  'yt_thumb4.jpg',
  'yt_thumb5.jpg',
  'yt_thumb6.jpg',
  'yt_thumb7.jpg',
  'yt_thumb8.jpg',
  'yt_thumb9.jpg',
]

const fakeNewsOrgs = [
  'CNN',
  'CBC',
  'BBC',
  'NBC',
  'ABC',
  'Al Jazeera',
  'Democracy Now',
  'Microsoft News',
  'National Post',
  'Globe and Mail',
  'Star',
  'The Times',
  'The Globe',
  'New York Times',
]

export const fakeColumns = (): [string, string, string] => {
  const validCombos = [
    ['45%', '30%', '25%'],
    ['33%', '33%', '33%'],
  ]
  const randomCombo = randomItem(validCombos)
  return shuffle(randomCombo) as [string, string, string]
}

export const fakeLink = () => randomItem(links)
export const fakeHeadline = () => randomItem(headlines)
export const fakeNewsThumb = () => randomItem(newsAssets)

export const fakeAvatarLineOne = (templates?: string[]) => {
  const availTemplates = templates ?? [
    'Analysis by <a>{name}</a>, {org}',
    '<a>{name}</a> · {org} · {date}',
  ]
  return randomStrFormat(
    (randomItem(availTemplates) as string)
  )
}

export const fakeAvatarLineTwo = (templates?: string[]) => {
  const availTemplates = templates ?? [
    '{integer} minute read · Published {date}',
    'Edited by {name} with {name} reporting',
    'We like to hear from you.  Get in touch: {email}'
  ]
  return randomStrFormat(
    (randomItem(availTemplates) as string)
  )
}

const defaultReplacements: Record<string, () => string> = {
  '{name}': getRandomName,
  '{org}': () => randomItem(fakeNewsOrgs),
  '{date}': () => new Date().toLocaleDateString(),
  '{email}': () => getRandomEmail(),
  '{integer}': () => String(randomPick(1, 10))
}

export const randomStrFormat
  = (s: string, replacements?: Record<string, () => string>): string => {
    return Object.entries(replacements ?? defaultReplacements)
      .reduce((acc, [key, value]) => {
        return acc.replaceAll(key, value())
      }, s)
  }